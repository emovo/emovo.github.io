<!DOCTYPE html>
<html lang='en' dir='ltr'>
  <title>War Map</title>
  <meta charset='UTF-8'> 
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'/>
  <meta name='Set-Cookie' content='HttpOnly;Secure;SameSite=None'/>
  <script src='https://code.jquery.com/jquery-3.2.1.min.js'></script>
  <!--<script src="https://d3js.org/d3.v3.min.js"></script>-->
  <script src="https://d3js.org/d3.v4.js"></script>
  <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rye&display=swap">
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Raleway'/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap">

  <style>
    body,h1,h2,h3,h4,h5,h6 {font-family: 'Rye', cursive;}
    /*font-family: 'Raleway', Arial, Helvetica, sans-serif*/
    body{ 
      margin: 0; 
      padding: 0; 
      background-color: #d9d1ba; 
      color: black;
      overflow: hidden;
    }
    /* http://jsfiddle.net/hashem/n3rspnbh/
       http://jsfiddle.net/CH9K8/
    */
    /*.overall{
      width: 99.8%;
      height: 500px;
      overflow: hidden; 
    }
    .general_info{
      width: 70%;
      height: 70%;
      display: none;
      border: 1px solid antiquewhite;
    }*/
    .button{
      margin:0 auto;
      font-family: 'Rye', cursive;
      border: 2px solid #ceb793;
      border-radius: 15%;
      background-color: antiquewhite;
      color: black;
    }
    ul {
      list-style-type: none;
      margin: 0;
      padding: 0;
      height: 7%;
      display: flex;
      overflow: hidden;
      background-color: #333;
    }

    li {
      float: left;
    }

    li a {
      display: block;
      color: white;
      text-align: center;
      padding: 14px 16px;
      text-decoration: none;
    }

    li a:hover:not(.active) {
      background-color: #111;
    }

    .active {
      background-color: #4CAF50;
    }
    .footer {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      text-align: center;
    }
    .text_div{
      -webkit-animation: blink 1s;
      -webkit-animation-iteration-count: 1;
      -moz-animation: blink 1s;
      -moz-animation-iteration-count: 1;
      -o-animation: blink 1s;
      -o-animation-iteration-count: 1;

      position: absolute;
      top: 50%;
      left: 50%;
      margin-right: -50%;
      transform: translate(-50%, -50%) ;
      width: 70%;
      text-align: center;
        vertical-align: middle;
        /*top: 50%;
        left: 50%;
        margin-top: -50px;
        margin-left: -100px;*/

        /*text-align: center;
        vertical-align: middle;
        margin-left: auto;
        margin-right: auto;*/

        font-size: 150%;
        /*color: antiquewhite; */
        color: antiquewhite;
        font-family: 'Satisfy', cursive;
    }

    @-webkit-keyframes blink {
      0% {
          filter: invert(100);
      }
      25% {
          filter: invert(75);
      }
      50% {
        filter: invert(50);
      }
      75% {
        filter: invert(25);
      }
      100% {
        filter: invert(0);
      }
      }
      @-moz-keyframes blink {
      0% {
          filter: invert(100);
      }
      25% {
          filter: invert(75);
      }
      50% {
        filter: invert(50);
      }
      75% {
        filter: invert(25);
      }
      100% {
        filter: invert(0);
      }
      }
      @-o-keyframes blink {
      0% {
          filter: invert(100);
      }
      25% {
          filter: invert(75);
      }
      50% {
        filter: invert(50);
      }
      75% {
        filter: invert(25);
      }
      100% {
        filter: invert(0);
      }
    }
    img{
      min-width: 100vw;
      width: 100%;
      height: 100vh;
      object-fit: cover;
    }

    .background_img{
      -webkit-animation: blink 1s;
      -webkit-animation-iteration-count: 1;
      -moz-animation: blink 1s;
      -moz-animation-iteration-count: 1;
      -o-animation: blink 1s;
      -o-animation-iteration-count: 1;
      opacity: 0.7;
    }

    .tooltip {
      position: relative;
      display: inline-block;
      border-bottom: 1px dotted black;
      bottom: 10px;
      right: 50px;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 120px;
      background-color: #555;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px 0;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -60px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .tooltip .tooltiptext::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #555 transparent transparent transparent;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

    .slide{
      animation-timing-function: linear; 
    }
    /* Next & previous buttons */
    .prev, .next {
      cursor: pointer;
      position: absolute;
      top: 50%;
      width: auto;
      padding: 16px;
      margin-top: -22px;
      color: gold;
      font-weight: bold;
      font-size: 18px;
      transition: 0.6s ease;
      border-radius: 0 3px 3px 0;
      user-select: none;
    }

    /* Position the "next button" to the right */
    .next {
      right: 0;
      border-radius: 3px 0 0 3px;
    }

    /* On hover, add a black background color with a little bit see-through */
    .prev:hover, .next:hover {
      background: antiquewhite;
      color: black;
    }

    svg {
      width: 100%;
      height: 100%;
    }

    path.slice{
      stroke-width:2px;
    }

    polyline{
      opacity: .3;
      stroke: black;
      stroke-width: 2px;
      fill: none;
    }


    /* The Modal (background) */
    .modal {
      display: none; /* Hidden by default */
      position: fixed; /* Stay in place */
      text-align: center;
      z-index: 1; /* Sit on top */
      left: 0;
      top: 0;

      width: 100%; /* Full width */
      height: 100%; /* Full height */
      overflow: auto; /* Enable scroll if needed */
      background-color: rgb(0,0,0); /* Fallback color */
      background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }
    /* Modal Content/Box */
    .modal-content {
      /*position:fixed;
      top:0;
      left:0;
      width:100%;
      height:100%;*/

      background-color: antiquewhite;
      text-align: center;
      margin: 15% auto; /* 15% from the top and centered */
      padding: 20px;
      border: 1px solid #888;
      width: 80%; /* Could be more or less, depending on screen size */
      overflow: auto; /* Enable scroll if needed */
    }
    .close {
      color: #aaaaaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }
    .close:hover,
    .close:focus {
      color: #000;
      text-decoration: none;
      cursor: pointer;
    }

    /*.soldier_image{
      width: 50%;
      height: 50%;
      top: 25%;
      margin: 0 auto;
      position: relative;

      background: url('images/union_soldier.jpg'); 
      background-size: contain; 
      background-position: center;      
      background-repeat: no-repeat;
    }*/

    /* pie charts */
    svg {
      width: 100%;
      height: 100%;
    }

    path.slice{
      stroke-width:2px;
    }

    polyline{
      opacity: .3;
      stroke: black;
      stroke-width: 2px;
      fill: none;
    }

  /* pay bar graph */
    .axis {
      font: 10px sans-serif;
    }

    .axis path,
    .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }

    .bar {
      fill: #85bb65;
    }

    .bar:hover {
      fill: #a1cb88;
    }

    div.tooltip {	
      position: absolute;			
      text-align: center;								
      background: antiquewhite;	
      border-radius: 8px;			
    }

    .box{
      position: relative;
    }
    .box a{
      display: block;      
      position: absolute;
    }

    .letter{
      position: fixed; /* Stay in place */
      width: 15%;
      height: 15%;
      text-align: center;
      float: left;
      display: none; 
      z-index: 5;
      left: 2%;
      top: 30%;
      background: antiquewhite;	
    }
/*
TODO
-add text 2 stuff

-battles geo data

-graphs
*/
  </style>
  <body>
      <!--<div class='timeline_buttons space_out' style='color:antiquewhite;'>
        <h3 id='year_text'></h3> -->
    <ul>
      <li><a href="civilwar_about.html">About</a></li>
      <li><a href="civilwar_map.html">War Map</a></li>
      <li><a href="civilwar_morse.html">Morse Code</a></li>
    </ul>

    <!--https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_slideshow-->
    <!--class="slide fade"-->
    <!--troop uniforms-->
    <div id="background_image" class="background_img" style="filter: brightness(45%);">
      <img src="images/union.jpg"/>
    </div>
    <!--pay + prior professions-->
    <div id="background_image" class="background_img" style="filter: brightness(50%);">
      <img src="images/confed_soldiers.jpg"> 
    </div>
    <!--resources-->
    <div id="background_image" class="background_img" style="filter: brightness(55%);">
      <img src="images/ironworks.jpg">
    </div>
    <!--casualties-->
    <!--<div id="background_image" class="background_img" style="filter: brightness(80%);">
      <img src="images/wounded.jpg"> 
    </div>-->
    <!--demographics-->
    <!--<div id="background_image" class="background_img" style="filter: brightness(70%);">
      <img src="images/louisiana_guard.jpg"> 
    </div>-->
    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
    <a class="next" onclick="plusSlides(1)">&#10095;</a>
    
    <!--resources of each sides: camp.jpg, professions: trenches.jpg-->
    <div id='data_modal' class='modal'>  
      <div id='intro' class='modal-content'>
        <span id='data_close' class='close' style="float: right;">&times;</span>
        <p id='intro_text'>The Union had a significant resources advantage over the Confederacy, enabling them to 
          outpace the Confederates in producing railroads, ships, heavy and light weaponry, as well as other war material. Their advantage proved useful for engaging in an attrition strategy to diminish and eventually control the Confederacy.</p>
        <p id='intro_long_text'>Data Source: Historical Statistics of the United States</p>
        <p>Legend: Union - blue, Confederate - gray</p>
        <br>
        <div id="chart" style="text-align:center; margin: auto; width: 38%; display: block;"></div>
        <p id="intro_data"></p>
        <select id="data_select" name="data">
          <option value="Population" selected>Population</option>
          <option value="Manufactured goods">Manufactured goods</option>
          <option value="Exports">Exports</option>
          <option value="Merchant Ships">Merchant Ships</option>
          <option value="Railroads">Railroads</option>
          <option value="Grain production">Grain production</option>
          <option value="Total farms">Total farms</option>
          <option value="Iron production">Iron production</option>
          <option value="Banking capital">Banking capital</option>
        </select>
        <img id="data_select_image" src="images/camp.jpg" 
          style="display: none; object-fit: fill; min-width: 10%; width: 40%; height: 30%;"></img>
        <p id="data_select_text"></p>
      </div>
    </div>
    <div id="explain_div" class="letter" 
      style="display: none; width: 25%; height: 50%; background-image: url('images/oldpaper.jpg');">
      <span id='explain_close' class='close' style="float: right;">&times;</span>
      <h3 id="explain_title"></h3>
      <!--<img id="explain_image" src="images/union_soldier.jpg" alt="Explain aspect image" 
        style="object-fit: fill; min-width: 10%; width: 40%; height: 100%;"></img>-->
      <p id="explain_text">text here, relevant image above</p>
    </div>
    <!--uniform: union.jpg, casualties: wounded.jpg -->
    <div id='uniform_modal' class='modal'> 
      <div class='modal-content'>
        <span id='uniform_close' class='close' style="float: right;">&times;</span>
        <p id='uniform_text'>Civil War uniforms often varied greatly from unit to unit. Here are just two uniform variations from both sides:</p>
        <p id='uniform_long_text'>Hover over parts of the infantry soldier to see more information about his uniform.</p>
        <!-- Hover over certain parts of the soldier to see general characteristics about Springfield Model 1855 width="25px" height="50px"-->
        <select id="uniforms" name="uniforms">
          <option value="union_soldier" selected>Union Soldier</option>
          <option value="confederate_soldier">Confederate Soldier</option>
        </select>
        <br>
        <br>
        <!--facial hair: https://prologue.blogs.archives.gov/2014/08/25/civil-war-fashion-a-facial-hair-frenzy/-->
        <div class="box">
          <img id="union_soldier_image" src="images/union_soldier.jpg" alt="Union soldier" 
            style="object-fit: fill; min-width: 10%; width: 40%; height: 40%;"></img>
          <a style="top: 0; left: 2%; width: 40%; height: 10%;"
            onmouseover="showUniformItem('bayonet')" onmouseout="showUniformItem('')"></a>
          <a style="top: 10%; left: 40%; width: 9%; height: 14%;"
            onmouseover="showUniformItem('union_gun')" onmouseout="showUniformItem('')"></a>
          <a style="top: 19%; left: 51%; width: 4%; height: 4%;"
            onmouseover="showUniformItem('union_hat')" onmouseout="showUniformItem('')"></a>
          <a style="top: 27%; left: 51%; width: 4%; height: 3%;"
            onmouseover="showUniformItem('facial_hair')" onmouseout="showUniformItem('')"></a>
          <a style="top: 26%; left: 42%; width: 8%; height: 6%;"
            onmouseover="showUniformItem('knapsack')" onmouseout="showUniformItem('')"></a>
          <a style="top: 33%; left: 44%; width: 2%; height: 16%;"
            onmouseover="showUniformItem('backpack')" onmouseout="showUniformItem('')"></a>
          <a style="top: 32%; left: 46%; width: 10%; height: 16%;"
            onmouseover="showUniformItem('union_jacket')" onmouseout="showUniformItem('')"></a>
          <a style="top: 63%; left: 48%; width: 10%; height: 32%;"
            onmouseover="showUniformItem('union_pants')" onmouseout="showUniformItem('')"></a>
          <a style="top: 33%; left: 59%; width: 12%; height: 16%;"
            onmouseover="showUniformItem('union_gun')" onmouseout="showUniformItem('')"></a>
        </div>
        <div class="box">
          <img id="confederate_soldier_image" src="images/confederate_soldier.jpg" alt="CSA soldier" 
            style="object-fit: fill; min-width: 10%; width: 40%; height: 40%; display: none;"></img>
          <a style="top: 5%; left: 42%; width: 20%; height: 12%;"
            onmouseover="showUniformItem('confed_hat')" onmouseout="showUniformItem('')"></a>
          <a style="top: 22%; left: 49%; width: 7%; height: 4%;"
            onmouseover="showUniformItem('facial_hair')" onmouseout="showUniformItem('')"></a>
          <a style="top: 28%; left: 42%; width: 20%; height: 25%;"
            onmouseover="showUniformItem('confed_jacket')" onmouseout="showUniformItem('')"></a>
          <a style="top: 56%; left: 41%; width: 5%; height: 25%;"
            onmouseover="showUniformItem('knife')" onmouseout="showUniformItem('')"></a>
          <a style="top: 70%; left: 46%; width: 18%; height: 20%;"
            onmouseover="showUniformItem('confed_pants')" onmouseout="showUniformItem('')"></a>
          <a style="top: 14%; left: 38%; width: 3%; height: 57%;"
            onmouseover="showUniformItem('confed_gun')" onmouseout="showUniformItem('')"></a>
          <a style="top: 58%; left: 53%; width: 6%; height: 12%;"
            onmouseover="showUniformItem('pistol')" onmouseout="showUniformItem('')"></a>
        </div>
      </div>
    </div>

    <div id='pay_modal' class='modal'> 
      <div id='pay' class='modal-content'>
        <span id='pay_close' class='close' style="float: right;">&times;</span>
        <select id="professions_view" name="professions_view">
          <option value="Confederate" selected>Confederacy</option>
          <option value="Union">Union</option>
        </select>
        <!--<div id="money_chart" style="text-align: center;"></div>-->
        <p id='pay_text'>In regards to pay, both sides had a somewhat exponential increase in soldier's pay as you go up the rank ladder.
          Using both side's pay grade system, if we, acting like the government, allocated and distributed $x of dollars to soldier's pay, the 
          following graph would be an estimated distribution:
        </p>
        <div id="pay_chart" style="text-align: center;"> <!--style="display: none;"-->
          <!--<br>
          <img id="high_rank_money" src="/images/confed_money.jpg" alt="" 
            style="display: inline-block; object-fit: fill; min-width: 10%; width: 10%; height: 4.4%;"></img>
          <h3 id="high_rank_percent" style="display: inline-block;">Yo</h3>
          <br>
          <img id="mid_rank_money" src="/images/confed_money.jpg" alt="" 
            style="display: inline-block; object-fit: fill; min-width: 10%; width: 10%; height: 4.4%;"></img>
          <h3 id="mid_rank_percent" style="display: inline-block;">Yp</h3>
          <br>
          <img id="low_rank_money" src="/images/confed_money.jpg" alt="" 
            style="display: inline-block; object-fit: fill; min-width: 10%; width: 10%; height: 4.4%;"></img>
          <h3 id="low_rank_percent" style="display: inline-block;">to</h3>-->
        </div>
        <br>
        <p>The graph above accounts for the number of soldiers in each rank, estimating the distribution of soldiers among the rank hierarchy
          to be comparable to the current United States military. Here we see the mid-ranked soldiers sharing the majority 
          of the total salary being allocated. It's important to note that the salary allocation was based on the assumption 
          that lower-ranked soldiers were paid when they were supposed to. However, oftentimes due to the 
          intensity of combat and logistical challenges brought about by the sheer size of the forces, 
          payday was often not sent to the troops until much later than assigned, if they were lucky.
        </p>
        <br>
        <p>In regards to the prior profession of much of these enlisted soldiers, Confederates had more people as farmers due to 
          the society of the South being more agrarian than the North.</p>
        <p id="professions_nums"></p>
        <div id="professions_chart" style="width: 40%; margin: 0 auto; text-align: center;"></div>
      </div>
    </div>

    <div id='wounded_modal' class='modal' > 
      <div id='wounded' class='modal-content'>
        <span id='wounded_close' class='close' style="float: right;">&times;</span>
        <p id='wounded_text'></p>
        <p id='wounded_long_text'></p>
        <select id="wounded_view" name="wounded_view">
          <option value="Confederate" selected>Confederacy</option>
          <option value="Union">Union</option>
        </select>
        <div id="wounded_chart"></div>
        <p>The war's sheer brutality resulted in many soldiers being driven away from and drawn towards faith. While most were Christian, some were Jewish</p>
      </div>
    </div>
    <div id='demographics_modal' class='modal' > 
      <div id='demographics' class='modal-content'>
        <span id='demographics_close' class='close' style="float: right;">&times;</span>
        <img src="images/22ndreg.jpg" alt="22nd reg" 
        style="object-fit: fill; min-width: 10%; width: 20%; height: 20%;"></img>
        <p>African Americans, </p>
        <br>
        <img src="images/native_american_soldier.jpg" alt="22nd reg" 
        style="object-fit: fill; min-width: 10%; width: 20%; height: 20%;"></img>
        <p>Native Americans</p>
        <br>
        <img src="images/foreigners.jpg" alt="22nd reg" 
        style="object-fit: fill; min-width: 10%; width: 20%; height: 20%;"></img>
        <p>Foreigners: Sent observers, immigrants contributed greatly to war effort</p> <!--http://www.sonofthesouth.net/civil-war-pictures/strategy/foreign-observers.htm-->
        <br>
        <img src="images/women_soldier.jpg" alt="22nd reg" 
        style="object-fit: fill; min-width: 10%; width: 20%; height: 20%;"></img>
        <p>Women sometimes dressed as men to join the battlefield, as they were barred from enlisting.</p> <!--Humanities Kansas-->
        <br>
      </div>
    </div>
    <div class="text_div">
      <p id="quote_text"></p>
      <p id="stat"></p>
      <br>
      <button id="see_data" class="button" onclick="openDataModal()">See Resources</button>
      <button id="see_uniforms" class="button" onclick="openUniformModal()">See Uniforms</button>
      <button id="see_pay" class="button" onclick="openPayModal()">See Pay Stats</button>
      <button id="see_wounded" class="button" onclick="openWoundedModal()">See Casualties</button>
      <button id="see_demographics" class="button" onclick="openDemographicsModal()">See Data</button>
    </div>
    <div class="tooltip">About
      <span id="image_about" class="tooltiptext">
        The image is of Tredegar Ironworks, which was a Confederate factory in Richmond. 
        It's strategic importance, especially with the resource disadvantage they had, 
        was one of the driving factors behind Richmond becoming the capital.
      </span>
    </div>
    <script>
/*
was pay top heavy or equally distributed
https://www.statista.com/statistics/239383/total-military-personnel-of-the-us-army-by-grade/ 
graph this ^ see equation, assume it to be the case for the civil war troops and apply the pay grade there
private: 100175, 23.47
corporal: 115358, 27.037
sergeant: 74144, 17.377
1st sergeant: 37786, 8.856
Quartermaster Sergeant: 11661, 2.733
sergeant major: 3799, 0.89
Second Lieutenant: 8779, 2.058
First Lieutenant: 13686, 3.208
Captain: 30065, 7.0465
Major: 16881, 3.9565
Lieutenant Colonel: 9564, 2.2416
Colonel: 4403, 1.03195
Brigadier General: 168, 0.03938	
Major General: 140, 0.0328
Lieutenant General: 45, 0.010547
General: 14, 0.00328

426668

0.0033 + 0.011 + 0.033 + 0.0394 + 1.032 + 2.242 + 3.957 + 7.047 + 3.208
+ 2.0589 + 0.8909 + 2.7339 + 8.8569 + 17.3779 + 27.03709 + 23.4709

http://www.themua.org/collections/files/original/ebaea859f8f5da32918f61c8e650b893.pdf


https://www.battlefields.org/learn/articles/military-pay


https://www.historynet.com/civil-war-soldiers#:~:text=article%20was%20published.-,Union%20Soldiers,to%206%20percent%20were%20conscripts.
*/    
      if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
        window.location.href = 'index.html';
      }
      
      function openDemographicsModal(){
        document.getElementById('demographics_modal').style.display = 'block';
      }

      function woundedDistribution(){
        /*
The 642,427 total Union casualties have been divided accordingly:

·         110,100 killed in battle

·         224,580 diseases

·         275,174 wounded in action

·         30,192 prisoners of war

The 483,026 total Confederate casualties have been divided accordingly:

·         94,000 killed in battle

·         164,000 diseases

·         194,026 wounded in action

·         31,000 prisoners of war
*/ 
        document.getElementById('wounded_chart').innerHTML = '';
        //Source: National Park Service
        let casualties = ['Diseases', 'POW', 'KIA', "WIA"];
        let cu_counts = [224580, 30192, 110100, 275174];
        let u_total = 642427;
        let cc_counts = [94000, 164000, 194026, 31000];
        let c_total = 483026;
        let data_chart = {};
        if(document.getElementById('wounded_view').value === 'Union'){
          let total_cu = cu_counts[0] + cu_counts[1] + cu_counts[2] + cu_counts[3];
          let cu_0 = (cu_counts[0] / total_cu * 100).toFixed(2);
          let cu_1 = (cu_counts[1] / total_cu * 100).toFixed(2);
          let cu_2 = (cu_counts[2] / total_cu * 100).toFixed(2);
          let cu_3 = (cu_counts[3] / total_cu * 100).toFixed(2);
          data_chart = [{'value': {'casualty': 'Diseases', 'count': cu_0}}, {'value': {'casualty': 'POW', 'count': cu_1}}, 
            {'value': {'casualty': 'KIA', 'count': cu_2}}, {'value': {'casualty': 'WIA', 'count': cu_3}}]; 
        }else{
          let total_cc = cc_counts[0] + cc_counts[1] + cc_counts[2] + cc_counts[3];
          let cc_0 = (cc_counts[0] / total_cc * 100).toFixed(2);
          let cc_1 = (cc_counts[1] / total_cc * 100).toFixed(2);
          let cc_2 = (cc_counts[2] / total_cc * 100).toFixed(2);
          let cc_3 = (cc_counts[3] / total_cc * 100).toFixed(2);
          data_chart = [{'value': {'casualty': 'Diseases', 'count': cc_0}}, {'value': {'casualty': 'POW', 'count': cc_1}}, 
            {'value': {'casualty': 'KIA', 'count': cc_2}}, {'value': {'casualty': 'WIA', 'count': cc_3}}]; 
        }
        /*
          wealth_union.push({"value": {"rank": ranks[i], "percent": percent}});
          sum = confed_pay[i] * rank_distribution[i] * people_count;
          percent = (sum / total_pay_confed) * 100;
          wealth_confed.push({"value": {"rank": ranks[i], "percent": percent}});
        */
        //http://bl.ocks.org/anaeliaovalle/66c3eba07c6d2c8f6b44fda14771e16e
        //hover: https://bl.ocks.org/tpham27/37d682cc63fc29da314c6d28417fce3f

        var margin = {top: 54, right: 60, bottom: 130, left: 88},
            width = 960 - margin.left - margin.right,
            height = 500 - margin.top - margin.bottom;
          
        var x = d3.scaleLinear().range([0, width]);

        var y = d3.scaleBand().rangeRound([0, height]);

        var xAxis = d3.axisBottom()
            .scale(x)
            .ticks(20);

        var yAxis = d3.axisLeft()
            .scale(y);
            
        var svg = d3.select("#wounded_chart").append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top )
          .append("g")
            .attr("transform", 
                  "translate(" + margin.left + "," + margin.top + ")");
          
        svg.append("text")
            .attr("x", 0)
            .attr("y", -35)
            .attr("dy", "0.71em")
            .attr("fill", "#000")
            .text("Casualties distribution")
            .style("fill", "#000000");
          
          x.domain([0, d3.max(data_chart, function(d) { return d.value.count; })]); 
          y.domain(casualties.map(function(d){return d;}));

          svg.append("g")
              .attr("class", "x axis")
              .attr("transform", "translate(0," + height + ")")
              .call(xAxis)
            .selectAll("text")

          svg.append("g")
              .attr("class", "y axis")
              .call(yAxis)
            .append("text")
              .attr("transform", "rotate(-90)")
              .attr("y", 6)
              .attr("dy", ".71em")
              .style("text-anchor", "end")

          let tooltip_div = d3.select("#wounded_chart").append("div")	
              .attr("class", "tooltip")				
              .style("opacity", 0);

          svg.selectAll(".bar")
          .data(data_chart)
          .enter().append("rect")
            .style("fill", "#85bb65")
          .attr("class", "bar")
          .attr("width", function(d) { return x(d.value.count); })
          .attr("y", function(d) { return y(d.value.casualty); })
          .attr("height", 16)
          .text(function(d) { return d; });
         
          svg.append("text")
            .attr("x", 350)
            .attr("y", 370)
            .attr("dy", "0.71em")
            .attr("fill", "#000")
            .text("Casualty Count")
            .style("fill", "#000000");

      }
      function openWoundedModal(){
        //http://bl.ocks.org/tomcardoso/1d44732cc7f3d97d6bf7
       //<div id="wounded_chart"></div> 
        document.getElementById('wounded_chart').innerHTML = '';
        woundedDistribution();
        document.getElementById('wounded_modal').style.display = 'block';
      }
      function showUniformItem(item){
        if(item === 'union_gun'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Union Weapons';
          document.getElementById('explain_text').innerText = 'The soldier is armed with the Springfield Model 1855, which is a rifle musket that, along with the other Springfield variants, were widely used during the war. These single-shot rifles had an effective firing range that was well suited for the "line of marching infantrymen" tactic often used during battles.';
        }
        if(item === 'bayonet'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Bayonet';
          document.getElementById('explain_text').innerText = 'In the event of charge order issued, the bayonet proved useful in engaging in close combat with the enemy.';
        }
        if(item === 'union_hat'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Union Hat Variants';
          document.getElementById('explain_text').innerText = 'The soldier\'s wearing a forage cap, whose design was largely based on the French kepi. Other types of headgear the soldiers would wear in the field would be the Hardee, slouch, and pork pie hats.';
        }
        if(item === 'facial_hair'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Facial Hair';
          document.getElementById('explain_text').innerHTML = 'Soldiers of all ranks on both sides often wore facial hair, as it was the style of the time. More information <a href="https://prologue.blogs.archives.gov/2014/08/25/civil-war-fashion-a-facial-hair-frenzy/" style="color: black;">here</a>.';
        }
        if(item === 'knapsack'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Blanket Roll';
          document.getElementById('explain_text').innerHTML = 'With the average daily march being around <a href="https://www.civilwarmed.org/quick-facts/onthego/#:~:text=%2C%202004%2C%20338.-,Marching,in%20retreat%20or%20in%20pursuit." style="color: black;">8 to 13</a> miles, the blanket roll proved useful for their rest periods during the night.';
        }
        if(item === 'backpack'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Backpack';
          document.getElementById('explain_text').innerHTML = 'Carrying around <a href="https://www.civilwarmed.org/quick-facts/onthego/#:~:text=%2C%202004%2C%20338.-,Marching,in%20retreat%20or%20in%20pursuit." style="color: black;">30 to 50 pounds</a> of military gear, backpacks were often a necessary tool during marches.';
        }
        if(item === 'union_jacket'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Union Jacket';
          document.getElementById('explain_text').innerHTML = 'While volunteer units often wore a variety of different uniforms, for the most part the Union were in blue. There were certain unique units who deviated from this color scheme, notably the elite <a href="https://en.wikipedia.org/wiki/1st_United_States_Sharpshooters" style="color: black;">1st United States Sharpshooters</a> unit, who wore an entirely green uniform instead.'; 
        }
        if(item === 'union_pants'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Union Pants';
          document.getElementById('explain_text').innerHTML = 'In general Union pants were blue, with some having a stripe depending if the soldier was an NCO. There were variations on this standard, '
            + 'as there were units inspired by the Europeans, more specifically the famed French Zouave units at the time, who wore baggy trousers. For the Union one example unit would be the <a href="https://en.wikipedia.org/wiki/5th_New_York_Volunteer_Infantry" style="color: black;">5th New York Volunteer Infantry</a>.';
        }

        if(item === 'confed_hat'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Confederate Hat Variants';
          document.getElementById('explain_text').innerHTML = 'The soldier appears to be wearing a variant of the slouch hat, which was popularly used by both the Confederate and Union forces. The kepi was also another popular headgear.';
        }
        if(item === 'confed_jacket'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Confederate Jacket';
          document.getElementById('explain_text').innerHTML = 'While volunteer units often wore a variety of different uniforms, for the most part the Confederates wore gray. There were certain unique units who deviated from this color scheme, such as wearing green uniforms. '
            + 'Like the Union, some units were inspired by the European military, such as the <a href="https://en.wikipedia.org/wiki/6th_Regiment,_European_Brigade" style="color: black;">6th Regiment European Brigade</a>, '
            + ' who wore uniforms that resembled the red jacket-blue pants units of the famed Italian revolutionary Giuseppe Garibaldi.'
        }
        if(item === 'confed_gun'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Double Barreled Shotgun';
          document.getElementById('explain_text').innerHTML = 'This soldier is wielding a Double Barreled Shotgun, which was put to effective use during close quarters combat that soldiers would often encounter during charges.';
        }
        if(item === 'pistol'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Revolver';
          document.getElementById('explain_text').innerHTML = 'The soldier is armed with a single revolver, which was put to effective use during close quarters combat, as you can fire multiple shots in relatively rapid succession.';
        }
        if(item === 'knife'){
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Knife';
          document.getElementById('explain_text').innerHTML = 'Knives were often wielded for extremely hand to hand combat that could occur through charging tactics. However, they were outclassed by bayonets due to their limited range.';
        }
        if(item === 'confed_pants'){
          console.log("hi")
          document.getElementById('explain_div').style.display = 'block';
          document.getElementById('explain_title').innerText = 'Confederate Pants';
          document.getElementById('explain_text').innerHTML = 'In general Confederate pants were gray, with some having a small stripe depending if the soldier was an NCO. There were variations on this standard, '
            + 'as there were units inspired by the Europeans, more specifically the famed French Zouave units at the time, who wore baggy trousers. One example unit would be '
            + ' the <a href="https://en.wikipedia.org/wiki/Louisiana_Tigers" style="color: black;">Louisiana Tigers</a>.';
        }
      }
      
      function openPayModal(){
        document.getElementById('professions_chart').innerHTML = '';
        payDistribution();
        professionsDistribution();
        document.getElementById('uniform_modal').style.display = 'none';
        document.getElementById('data_modal').style.display = 'none'; 
        document.getElementById('pay_modal').style.display = 'block'; 
      }

      function openUniformModal(){
        document.getElementById('uniform_modal').style.display = 'block';
        document.getElementById('data_modal').style.display = 'none'; 
        document.getElementById('pay_modal').style.display = 'none'; 
      }

      function formResourceData(){
        let selected_value = document.getElementById('data_select').value;
        let resources = ["Population", "Manufactured goods", "Exports", "Merchant Ships", "Railroads", 
          "Grain production", "Total farms", "Iron production", "Banking capital"];
        let union_resource_percentage = [71, 92, 56, 90, 72, 69, 67, 94, 82];
        let confed_resource_percentage = [29, 8, 44, 10, 28, 31, 33, 6, 18];
        let r_index = resources.indexOf(selected_value);
        let resource_dict = {"Union": union_resource_percentage[r_index], "Confederate": confed_resource_percentage[r_index]};
        return resource_dict;
      }
//GRAPH NUMBER OF BATTLES IN A SPECIFIC STATE OVER 4 YEAR PERIOD
      function openDataModal(){
        let resource_dict = formResourceData();
        dataResources(resource_dict);
        document.getElementById('uniform_modal').style.display = 'none';
        document.getElementById('data_modal').style.display = 'block'; 
        document.getElementById('pay_modal').style.display = 'none'; 
      } 

      function dataResources(resources_dict){
        document.getElementById('intro_data').innerText = 'Union: ' + resources_dict.Union + '%, Confederate: ' + 
          resources_dict.Confederate + '%';
        let color = d3.scaleOrdinal()
          .domain(["Union", "Confederate"])
          .range(["#19488a", "#7f827c"]);
        
        let pie = d3.pie()
          .value(function(d) { return d.value; });

        let data_ready = pie(d3.entries(resources_dict));

// Add the polylines between chart and labels:
        var arc = d3.arc()
          .outerRadius(radius * 0.8)
          .innerRadius(radius * 0.4);

        var outerArc = d3.arc()
          .innerRadius(radius * 0.9)
          .outerRadius(radius * 0.9);
        
        /*resources_svg
          .selectAll('allLabels')
          .data(data_ready)
          .enter()
          .append('text')
            .text( function(d) {return d.data.key } )
            .attr('transform', function(d) {
                var pos = outerArc.centroid(d);
                var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2
                pos[0] = radius * 0.99 * (midangle < Math.PI ? 1 : -1);
                return 'translate(' + pos + ')';
            })
            .style('text-anchor', function(d) {
                var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2
                return (midangle < Math.PI ? 'start' : 'end')
            })

        resources_svg
          .selectAll('allPolylines')
          .data(data_ready)
          .enter()
          .append('polyline')
            .attr("stroke", "black")
            .style("fill", "none")
            .attr("stroke-width", 1)
            .attr('points', function(d) {
              var posA = arc.centroid(d) // line insertion in the slice
              var posB = outerArc.centroid(d) // line break: we use the other arc generator that has been built only for that
              var posC = outerArc.centroid(d); // Label position = almost the same as posB
              var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2 // we need the angle to see if the X position will be at the extreme right or extreme left
              posC[0] = radius * 0.95 * (midangle < Math.PI ? 1 : -1); // multiply by 1 or -1 to put it on the right or on the left
              return [posA, posB, posC]
            })*/

        // map to data
        var u = resources_svg.selectAll("path")
          .data(data_ready);
        
        // Build the pie chart: Basically, each part of the pie is a path that we build using the arc function.
        u
          .enter()
          .append('path')
          .merge(u)
          .transition()
          .duration(1000)
          .attr('d', d3.arc()
            .innerRadius(0)
            .outerRadius(radius)
          )
          .attr('fill', function(d){ return(color(d.data.key)) })
          .attr("stroke", "white")
          .style("stroke-width", "2px")
          .style("opacity", 1);

        // remove the group that is not present anymore
        u
          .exit()
          .remove();
      }
      
      function professionsDistribution(){
        /*
(NPS)
pie chart
What were the civilian professions of these soldiers?  ===
Farmers comprised 48 percent of the civilian occupations in the Union. Others included mechanics, 24 percent; laborers, 
16 percent; commercial, 5 percent; miscellaneous, 4 percent; and professional occupations, 3 percent.

Farmers comprised 69 percent of the civilian occupations in the Confederacy. 
Others included laborers, 9 percent; mechanics, 5.3 percent; commercial, 5 percent; professional occupations, 
2.1 percent; and miscellaneous, 1.6 percent.
        */
        let categories = ['Mechanics', 'Commercial', 'Laborers', 'Miscellaneous', 'Farmer', 'Professional'];
        let data = {'Mechanics': 5.3, 'Commercial': 5, 'Laborers': 9, 'Miscellaneous': 1.6, 'Farmer': 69,'Professional': 2.1};
        document.getElementById('professions_nums').innerText = 'On the Confederate side, ';
        if(document.getElementById("professions_view").value === "Union"){
          data = {'Mechanics': 24, 'Commercial': 5, 'Laborers': 16, 'Miscellaneous': 4, 'Farmer': 48, 'Professional': 3};
          document.getElementById('professions_nums').innerText = 'On the Union side, ';
        }
        let distribution = data['Mechanics'] + '% were mechanics, ' + data['Laborers'] + '% were laborers, ' 
          + data['Farmer'] + '% were farmers, ' + data['Commercial'] + '% were in manufacturing/commercial industry, '
          + data['Professional'] + '% were in professional occupations, and ' + data['Miscellaneous'] + 
            '% were in miscellaneous industries.';
        document.getElementById('professions_nums').innerHTML += distribution
        // set the dimensions and margins of the graph
        var width = 450
            height = 450
            margin = 120

        // The radius of the pieplot is half the width or half the height (smallest one). I subtract a bit of margin.
        var radius = Math.min(width, height) / 2 - margin

        var svg = d3.select("#professions_chart")
          .append("svg")
            .attr("width", width)
            .attr("height", height)
          .append("g")
            .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

        // set the color scale
        var color = d3.scaleOrdinal()
          .domain(categories)
          .range(d3.schemeDark2);

        // Compute the position of each group on the pie:
        var pie = d3.pie()
          .sort(null) // Do not sort group by size
          .value(function(d) {return d.value; })
        var data_ready = pie(d3.entries(data))

        // The arc generator
        var arc = d3.arc()
          .innerRadius(radius * 0.5)         // This is the size of the donut hole
          .outerRadius(radius * 0.8)

        // Another arc that won't be drawn. Just for labels positioning
        var outerArc = d3.arc()
          .innerRadius(radius * 0.9)
          .outerRadius(radius * 0.9)

        // Build the pie chart: Basically, each part of the pie is a path that we build using the arc function.
        svg
          .selectAll('allSlices')
          .data(data_ready)
          .enter()
          .append('path')
          .attr('d', arc)
          .attr('fill', function(d){ return(color(d.data.key)) })
          .attr("stroke", "white")
          .style("stroke-width", "2px")
          .style("opacity", 0.96)

        // Add the polylines between chart and labels:
        svg
          .selectAll('allPolylines')
          .data(data_ready)
          .enter()
          .append('polyline')
            .attr("stroke", "black")
            .style("fill", "none")
            .attr("stroke-width", 1)
            .attr('points', function(d) {
              var posA = arc.centroid(d) // line insertion in the slice
              var posB = outerArc.centroid(d) // line break: we use the other arc generator that has been built only for that
              var posC = outerArc.centroid(d); // Label position = almost the same as posB
              var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2 // we need the angle to see if the X position will be at the extreme right or extreme left
              posC[0] = radius * 0.95 * (midangle < Math.PI ? 1 : -1); // multiply by 1 or -1 to put it on the right or on the left
              return [posA, posB, posC]
            })

        // Add the polylines between chart and labels:
        svg
          .selectAll('allLabels')
          .data(data_ready)
          .enter()
          .append('text')
            .text( function(d) { console.log(d.data.key) ; return d.data.key } )
            .attr('transform', function(d) {
                var pos = outerArc.centroid(d);
                var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2
                pos[0] = radius * 0.99 * (midangle < Math.PI ? 1 : -1);
                return 'translate(' + pos + ')';
            })
            .style('text-anchor', function(d) {
                var midangle = d.startAngle + (d.endAngle - d.startAngle) / 2
                return (midangle < Math.PI ? 'start' : 'end')
            })
      }
      function moneyDistribution(){
        let ranks = ["Private", "Corporal", "Sergeant", "1st Sergeant", "Quartermaster Sergeant", "Sergeant Major", "Second Lieutenant",
          "First Lieutenant", "Captain", "Major", "Lieutenant Colonel", "Colonel", "Brigadier General", "Major General",
          "Lieutenant General", "General"];
        let union_pay = [13, 13, 17, 20, 21, 21, 105.5, 105.5, 115.5, 169, 181, 212, 315, 457, 748, 748];
        let confed_pay = [11, 13, 17, 20, 21, 21, 80, 90, 130, 150, 170, 195, 301, 301, 301, 301];
        //money_chart
      }
      //theoretical, assuming they were paid on time; which often they werent
      //bar chart x axis: rank, y-axis: percent of finances allocated for salaries
      //was the distribution unequitable?
      function payDistribution(){
        let ranks = ["Private", "Corporal", "Sergeant", "1st Sergeant", "Quartermaster Sergeant", "Sergeant Major", "Second Lieutenant",
          "First Lieutenant", "Captain", "Major", "Lieutenant Colonel", "Colonel", "Brigadier General", "Major General",
          "Lieutenant General", "General"];
        let sorted_ranks = ['High Ranked', 'Mid Ranked', 'Low Ranked'];
        ranks.reverse();
        let people_count = 100000; //value doesn't necessarily matter, since distribution is %
        let rank_distribution = [0.0033, 0.011, 0.033, 0.0394, 1.032, 2.242, 3.957, 7.047, 3.208,
          2.0589, 0.8909, 2.7339, 8.8569, 17.3779, 27.03709, 23.4709];
        let union_pay = [13, 13, 17, 20, 21, 21, 105.5, 105.5, 115.5, 169, 181, 212, 315, 457, 748, 748];
        union_pay.reverse();
        let confed_pay = [11, 13, 17, 20, 21, 21, 80, 90, 130, 150, 170, 195, 301, 301, 301, 301];
        confed_pay.reverse();
        let max_union_percent = 0.0;
        let max_confed_percent = 0.0;
        let wealth_union = [];
        let wealth_confed = [];
        let total_pay_union = 0;
        let total_pay_confed = 0;
        for(let i = 0; i < union_pay.length; i++){
          let sum = union_pay[i] * rank_distribution[i] * people_count;
          total_pay_union += sum;
          sum = confed_pay[i] * rank_distribution[i] * people_count;
          total_pay_confed += sum;
        }
        let u_percent = 0;
        let ur_distr = 0;
        let c_percent = 0;
        let cr_distr = 0;
        for(let i = 0; i < union_pay.length; i++){
          let sum = union_pay[i] * rank_distribution[i] * people_count;
          let percent = (sum / total_pay_union) * 100;
          //ur_distr += rank_distribution[i];
          /*if(i === 4){ //low rank
            wealth_union.push({"value": {"rank": sorted_ranks[0], "percent": u_percent.toFixed(2), "num_percent": ur_distr.toFixed(2)}});
            u_percent = 0;
            ur_distr = 0;
          }if(i === 9){//mid rank
            wealth_union.push({"value": {"rank": sorted_ranks[1], "percent": u_percent.toFixed(2), "num_percent": ur_distr.toFixed(2)}});
            u_percent = 0;
            ur_distr = 0;
          }*/
          wealth_union.push({"value": {"rank": ranks[i], "percent": percent}});
          sum = confed_pay[i] * rank_distribution[i] * people_count;
          percent = (sum / total_pay_confed) * 100;
          //cr_distr += rank_distribution[i];
          wealth_confed.push({"value": {"rank": ranks[i], "percent": percent}});
          /*if(i === 4){ //low rank
            wealth_confed.push({"value": {"rank": sorted_ranks[0], "percent": c_percent.toFixed(2)}});
            c_percent = 0;
            cr_distr = 0;
          }if(i === 8){//mid rank
            wealth_confed.push({"value": {"rank": sorted_ranks[1], "percent": c_percent.toFixed(2)}});
            c_percent = 0;
            cr_distr = 0;
          }*/
        }
        //wealth_union.push({"value": {"rank": sorted_ranks[2], "percent": u_percent.toFixed(2), "num_percent": ur_distr.toFixed(2)}});
        //wealth_confed.push({"value": {"rank": sorted_ranks[2], "percent": c_percent.toFixed(2), "num_percent": cr_distr.toFixed(2)}});
        let data_chart = wealth_confed;
        if(document.getElementById("professions_view").value === "Union"){
          data_chart = wealth_union;
        }
        console.log(data_chart)
        /*console.log(data_chart)
        let d_width = 10;
        let d_height = 4.4;
        let c_1 = data_chart[1].value.percent / data_chart[0].value.percent;
        let mid_w = d_width * c_1;
        let mid_h = d_height * c_1
        let c_2 = data_chart[2].value.percent / data_chart[0].value.percent;
        let high_w = d_width * c_2;
        let high_h = d_height * c_2
        console.log("high_w: "+high_w+", high_h: "+high_h+"mid_w: "+mid_w+", mid_h: "+mid_h)
        document.getElementById('high_rank_money').style.width = high_w + '%';
        document.getElementById('high_rank_money').style.height = high_h + '%';
        document.getElementById('mid_rank_money').style.width = mid_w + '%';
        document.getElementById('mid_rank_money').style.height = mid_h + '%';*/
        //"display: inline-block; object-fit: fill; min-width: 10%; width: 10%; height: 4.4%;"
        /*
          <img id="high_rank_money" src="/images/confed_money.jpg" alt="" 
            style="display: inline-block; object-fit: fill; min-width: 10%; width: 10%; height: 4.4%;"></img>
          <h3 id="high_rank_percent" style="display: inline-block;">Yo</h3>
          <br>
          <img id="mid_rank_money" src="/images/confed_money.jpg" alt="" 
            style="display: inline-block; object-fit: fill; min-width: 10%; width: 10%; height: 4.4%;"></img>
          <h3 id="mid_rank_percent" style="display: inline-block;">Yp</h3>
          <br>
          <img id="low_rank_money" src="/images/confed_money.jpg" alt="" 
            style="display: inline-block; object-fit: fill; min-width: 10%; width: 10%; height: 4.4%;"></img>
          <h3 id="low_rank_percent" style="display: inline-block;">to</h3>
        */
        //document.getElementById('high_rank_money').style.width = ;
        //http://bl.ocks.org/anaeliaovalle/66c3eba07c6d2c8f6b44fda14771e16e
        //hover: https://bl.ocks.org/tpham27/37d682cc63fc29da314c6d28417fce3f

        var margin = {top: 54, right: 60, bottom: 130, left: 88},
            width = 960 - margin.left - margin.right,
            height = 500 - margin.top - margin.bottom;
          
        var x = d3.scaleLinear().range([0, width]);

        var y = d3.scaleBand().rangeRound([0, height]);

        var xAxis = d3.axisBottom()
            .scale(x)
            .ticks(20);

        var yAxis = d3.axisLeft()
            .scale(y);
            
        var svg = d3.select("#pay_chart").append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top )
          .append("g")
            .attr("transform", 
                  "translate(" + margin.left + "," + margin.top + ")");
          
        svg.append("text")
            .attr("x", 0)
            .attr("y", -35)
            .attr("dy", "0.71em")
            .attr("fill", "#000")
            .text("Estimated salary distribution")
            .style("fill", "#000000");
          
        svg.append("text")
            .attr("x", -69)
            .attr("y", -8)
            .attr("dy", "0.71em")
            .attr("fill", "#000")
            .text("Ranks")
            .style("fill", "#000000");
          
          x.domain([0, d3.max(data_chart, function(d) { return d.value.percent; })]); 
          y.domain(ranks.map(function(d){return d;}));

          svg.append("g")
              .attr("class", "x axis")
              .attr("transform", "translate(0," + height + ")")
              .call(xAxis)
            .selectAll("text")

          svg.append("g")
              .attr("class", "y axis")
              .call(yAxis)
            .append("text")
              .attr("transform", "rotate(-90)")
              .attr("y", 6)
              .attr("dy", ".71em")
              .style("text-anchor", "end")

          let tooltip_div = d3.select("#pay_chart").append("div")	
              .attr("class", "tooltip")				
              .style("opacity", 0);

          svg.selectAll(".bar")
          .data(data_chart)
          .enter().append("rect")
            .style("fill", "#85bb65")
          .attr("class", "bar")
          .attr("width", function(d) { return x(d.value.percent); })
          .attr("y", function(d) { return y(d.value.rank); })
          .attr("height", 16)
          .text(function(d) { return d; });
          /*.on("mouseover", function(d) {		
            tooltip_div.transition()		
                .duration(500)		
                .style("opacity", .9);	
            tooltip_div.html("<strong>Share:</strong> <span style='color: black'>" + d.value.percent.toFixed(3) + "%</span>")	
                .style("left", (d3.event.pageX) + "px")		
                .style("top", (d3.event.pageY - 28) + "px");	
            })			
          .on("mouseout", function(d) {		
              tooltip_div.transition()		
                  .duration(200)		
                  .style("opacity", 0);	
          });*/
         
          svg.append("text")
            .attr("x", 350)
            .attr("y", 370)
            .attr("dy", "0.71em")
            .attr("fill", "#000")
            .text("Percentage of total salary allocated to rank")
            .style("fill", "#000000");
      }

        // set the dimensions and margins of the graph
        var width = 450
            height = 450
            margin = 10

        // The radius of the pieplot is half the width or half the height (smallest one). I subtract a bit of margin.
        var radius = Math.min(width, height) / 2 - margin

        // append the svg object to the div called 'my_dataviz'
        var resources_svg = d3.select("#chart")
          .append("svg")
            .attr("width", width)
            .attr("height", height)
          .append("g")
            .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");


        /*resources_svg.append("g")
          .attr("class", "labels");
        resources_svg.append("g")
          .attr("class", "lines");*/

      /* select input data */
      let data_select = document.querySelector('#data_select'),
        data_input = document.querySelector('input[type="button"]');
      data_select.addEventListener('change',function(){
        let resource_dict = formResourceData();
        dataResources(resource_dict);
      });

      let uniforms_select = document.querySelector('#uniforms'),
        uniforms_input = document.querySelector('input[type="button"]');
        uniforms_select.addEventListener('change',function(){
          let soldier = document.getElementById('uniforms').value;
          if(soldier === 'confederate_soldier'){
            document.getElementById('union_soldier_image').style.display = 'none';
            document.getElementById('confederate_soldier_image').style.display = 'inline-block';
          }else{
            document.getElementById('union_soldier_image').style.display = 'inline-block';
            document.getElementById('confederate_soldier_image').style.display = 'none';
          }
      });
      
      let professions_select = document.querySelector('#professions_view'),
        professions_input = document.querySelector('input[type="button"]');
        professions_select.addEventListener('change',function(){
          document.getElementById('professions_chart').innerHTML = '';
          document.getElementById('pay_chart').innerHTML = '';
          //document.getElementById('money_chart').innerHTML = '';
          moneyDistribution();
          payDistribution();
          professionsDistribution();
      });

      let wounded_select = document.querySelector('#wounded_view'),
        wounded_input = document.querySelector('input[type="button"]');
        wounded_select.addEventListener('change',function(){
          document.getElementById("wounded_chart").innerHTML = '';
          woundedDistribution();
      });

      const nav = document.querySelector('.letter');
      const offset = nav.getBoundingClientRect();

      window.addEventListener('scroll', function() {
        if (window.pageYOffset > offset.top) {
          nav.style.position = 'fixed';
          nav.style.top = 0;
        } else {
          nav.style.position = 'relative';
          nav.style.top = '';
        }
      });

      function plusSlides(n) {
        showSlides(slideIndex += n);
      }

      function currentSlide(n) {
        showSlides(slideIndex = n);
      }

      function showSlides(n) {
        var i;
        var slides = document.getElementsByClassName('background_img');
        let stat = '';
        let quote = '';
        if (n > slides.length) {slideIndex = 1}    
        if (n < 1) {slideIndex = slides.length}
        for (i = 0; i < slides.length; i++) {
          slides[i].style.display = 'none';  
        }
        slides[slideIndex-1].style.display = 'block'; 
        let id = ""; 
        if(slideIndex !== 1){
          document.getElementById('see_uniforms').style.display = 'none';
        }else{
          id = 'see_uniforms';
          quote = '"When the Union men charged, it was heads erect, shoulders squared and thrown back, and with a firm stride.' 
            + ' But when the Johnnies charger, it was with a jog trot in a half-bent position, and although they might be met '
            + 'with heavy and blighting volleys, they came on with the pertinacity of bulldogs, filling up the gaps and trotting' 
            +' on with their never ceasing "ki-yi" until we found them face to face."';
          stat = 'Gilbert Adam Hays, 63rd Pennsylvania Volunteers';
          document.getElementById("see_uniforms").style.display = 'block';
          document.getElementById("image_about").innerText = "Union troops at the Battle of Fredricksburg, 1862.";
        }
        if(slideIndex !== 2){
          document.getElementById("see_pay").style.display = 'none';
        }else{
          id = "see_pay";
          document.getElementById("see_pay").style.display = 'block';
          document.getElementById("image_about").innerText = "Confederate troops near Charleston, South Carolina in 1863.";
          quote = '"This struggle is too large for you to be diverted from it by any small matter. ' + 
            'When you return to your homes rise up to the height of a generation of men worthy of a free Government, ' 
            +'and we will carry out the great work we have commenced."';
          stat = 'Abraham Lincoln, 1864';
        }
        if(slideIndex !== 3){
          document.getElementById("see_data").style.display = 'none';
        }else{
          id = "see_data";
          document.getElementById("see_data").style.display = 'block';
          document.getElementById("image_about").innerText = "The image is of Tredegar Ironworks, which was a Confederate factory in Richmond. It's strategic importance, especially with the resource disadvantage they had, was one of the driving factors behind Richmond becoming the capital.";
          quote = '"The war has stimulated the genius of our people and directed it to the service of our country. Sixty-six new inventions relating to engines, implements, and articles of warfare have been illustrated in our columns."'; 
          stat = 'Scientific American magazine, 1861';
        }
        if(slideIndex !== 4){
          document.getElementById("see_wounded").style.display = 'none';
        }else{
          id = "see_wounded";
          document.getElementById("see_wounded").style.display = 'block';
          document.getElementById("image_about").innerText = "Hospital";
        }
        if(slideIndex !== 5){
          document.getElementById("see_demographics").style.display = 'none';
        }else{
          id = "see_demographics";
          document.getElementById("see_demographics").style.display = 'block';
          document.getElementById("image_about").innerText = "Confederate troops";
        }
        document.getElementById("stat").style.opacity = 0;
        document.getElementById("quote_text").style.opacity = 0;
        document.getElementById(id).style.opacity = 0;
        setTimeout(()=>{
          document.getElementById("quote_text").style.opacity = 1;
          document.getElementById("quote_text").innerHTML = quote; //"quote"+(slideIndex-1);
          setTimeout(()=>{
            document.getElementById("stat").style.opacity = 1;
            document.getElementById("stat").innerHTML = stat; //"stat"+(slideIndex-1);
            setTimeout(()=>{
              document.getElementById(id).style.opacity = 1;
            }, 500);
          }, 500);
        }, 500);
        //then show data
      /*
IDEA: bar chart is for casualties, chart.js for professions, for pay table with bills that differ in size

quotes: https://www.battlefields.org/learn/articles/civil-war-facts

(NPS)
pie chart
What were the civilian professions of these soldiers?  ===
Farmers comprised 48 percent of the civilian occupations in the Union. Others included mechanics, 24 percent; laborers, 16 percent; commercial, 5 percent; miscellaneous, 4 percent; and professional occupations, 3 percent.

Farmers comprised 69 percent of the civilian occupations in the Confederacy. Others included laborers, 9 percent; mechanics, 5.3 percent; commercial, 5 percent; professional occupations, 2.1 percent; and miscellaneous, 1.6 percent.
  
Casualties ===

people chart
The 642,427 total Union casualties have been divided accordingly:

·         110,100 killed in battle

·         224,580 diseases

·         275,174 wounded in action

·         30,192 prisoners of war

The 483,026 total Confederate casualties have been divided accordingly:

·         94,000 killed in battle

·         164,000 diseases

·         194,026 wounded in action

·         31,000 prisoners of war


Economics ====
(Historical Statistics of the United States)
https://i.pinimg.com/originals/c9/fb/2f/c9fb2fae99537d55779fc7ca12401cbd.gif
table with numbers behind an old paper

pay: https://www.battlefields.org/learn/articles/military-pay
user selects infantry type/rank and recieves payment

rank ====
https://en.wikipedia.org/wiki/Ranks_and_insignia_of_the_Confederate_States
https://en.wikipedia.org/wiki/Confederate_States_Army

https://en.wikipedia.org/wiki/Uniform_of_the_Union_Army#:~:text=Rank%20was%20displayed%20on%20epaulettes,one%2C%20two%20or%20three%20silver
https://en.wikipedia.org/wiki/Union_Navy

==demographics
African American and "Five Civilized Tribes" soldiers ====
pie chart
https://cdn.historycollection.com/wp-content/uploads/2019/02/69th_New_York_Militia.jpg
https://traveltothe1860s.weebly.com/uploads/1/7/1/3/17138326/1384870903.jpg -economic
https://i.pinimg.com/originals/28/ee/26/28ee2681581e3c65ea203e890a0063e2.jpg - economic
https://cdn.aarp.net/content/dam/aarp/social_change/history/2011_4/740-ambulance-civil-war.imgcache.rev03ee0d01ff435524b2815025bec0ec1e.jpg - casualties
https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/ArtilleryCharleston1863.jpg/1200px-ArtilleryCharleston1863.jpg - confederate
https://i0.wp.com/militaryhistorynow.com/wp-content/uploads/2017/09/7th-Illinois-Volunteer-Infantry.jpg?resize=768%2C598&ssl=1 - union

1894: John S. Mosby, reflecting on his role in the war, stated in a letter to a friend that "I've always understood that we went to war on account of the thing we quarreled with the North about. I've never heard of any other cause than slavery.
*/
      }
      let slideIndex = 1;
      showSlides(slideIndex);
      
      document.getElementById('data_close').onclick = function() {
        document.getElementById('data_modal').style.display = 'none';
      }

      document.getElementById('uniform_close').onclick = function() {
        document.getElementById('uniform_modal').style.display = 'none';
        document.getElementById('explain_div').style.display = 'none';
      }

      document.getElementById('explain_close').onclick = function() {
        document.getElementById('explain_div').style.display = 'none';
      }

      document.getElementById('pay_close').onclick = function() {
        document.getElementById('pay_modal').style.display = 'none';
      }

      document.getElementById('wounded_close').onclick = function() {
        document.getElementById('wounded_modal').style.display = 'none';
      }

      document.getElementById('demographics_close').onclick = function() {
        document.getElementById('demographics_modal').style.display = 'none';
      }
    </script>
  </body>
</html>