<!DOCTYPE html>
<html lang="en" dir="ltr">
    <title>EMOVO</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
    body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", Arial, Helvetica, sans-serif}
    /*.place {
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
      padding: 16px;
      text-align: center;
      background-color: #f1f1f1;
    }*/
    body {
    overflow-y: scroll;
    position: fixed;
    width: 100%;
    height: 100%;

}
    .places {
      width: 100%;
      table-layout: fixed;
      border-collapse: seperate;
      /*padding-right:4%;*/
    }
    .places button {
      width: 80%;
      height:10%;
      margin: 0 auto;
      border: 10px solid #F0F0F0;
    }
    body {
    width:100%;
    position: fixed;
    }
    .left {
        display: inline-block;
        background-color:orange;
        color:white;
        position: absolute;
        height:100%;
        width:15%;
        left: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }
    .right {
        display: inline-block;
        position: absolute;
        text-align: center;
        right: 0;
    }
    .pagination {
      display: inline-block;
      margin: 0 auto;
    }
    .pagination a {
      color: black;
      padding: 8px 16px;
      text-decoration: none;
    }
    .pagination a.active {
      background-color: #4CAF50;
      color: white;
    }
.pagination a:hover:not(.active) {background-color: #ddd;}
    </style>
  <body class="w3-light-grey">
    <!-- Navigation Bar GET RID OF W3-TOP TO ENABLE SCROLLBAR-->
    <div class="w3-bar w3-light-grey w3-card w3-left-align w3-large">
      <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-orange" href="javascript:void(0);" onclick="toggle()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
      <!--<a href="index.html" class="w3-bar-item w3-button w3-text-orange w3-hide-small w3-padding-large w3-hover-orange"><b><i class="fa fa-map-marker w3-margin-right"></i>Logo</b></a>-->
      <a href="index.html" class="w3-bar-item w3-button w3-text-orange w3-hide-small w3-padding-large w3-hover-orange"><b><img src="emovo.png" width="25px" height="25px" alt="EMOVO"></img></b></a>
      <!--<a href="#" class="w3-bar-item w3-button w3-padding-large w3-white">Home</a>-->
      <a href="about.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-orange">About</a>
      <a href="contact.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-orange">Contact</a>
      <a href="search.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-orange">Search</a>
      <!--<a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Sign In</a>-->
      <!--<a href="profile.html" class="w3-bar-item w3-button w3-right w3-hide-small w3-padding-large w3-hover-orange w3-text-grey"><i class="fa fa-user"></i>  Your Profile</b></a>-->
    </div>
    <div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium w3-large">
      <a href="index.html" class="w3-bar-item w3-button w3-padding-large">EMOVO</a>
      <a href="about.html" class="w3-bar-item w3-button w3-padding-large">About</a>
      <a href="contact.html" class="w3-bar-item w3-button w3-padding-large">Contact</a>
      <a href="search.html" class="w3-bar-item w3-button w3-padding-large">Search</a>
      <!--<a href="profile.html" class="w3-bar-item w3-button w3-padding-large">Your Profile</a>-->
    </div>
      <div class="right">
        <p></p>
          <table id="table" class="places">
            <select id="pages" name="page" onchange="changePage()">
                <option value="1" selected="selected">1</option>
                <!--<option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>-->
            </select>
            <input type="text" id="input" onkeyup="filter()" placeholder="Search" title="City">
            <br>
            <p id="pageCount"></p>
            <br>
            <h3 id="title">US Cities Found</h3>
            <!--<ul id="myUL">
              <input type="text" id="input" onkeyup="myFunction()" placeholder="Search for names.." title="Type in a name">
              -<li><a href="#">Adele</a></li>
              <li><a href="#">Agnes</a></li>

              <li><a href="#">Billy</a></li>
              <li><a href="#">Bob</a></li>

              <li><a href="#">Calvin</a></li>
              <li><a href="#">Christina</a></li>
              <li><a href="#">Cindy</a></li>
            </ul>-->
             <tr>
                <td>
             </tr>
            </table>
        </div>
        <!--<div id="sorting" class="left">
          <div>
            <p>Attributes you want to sort by:</p>
            <form action="">
              <input type="radio" name="sortType" value="male"> Current<br>
              <p></p>
              <input type="radio" name="sortType" value="female"> Female<br>
              <p></p>
              <input type="radio" name="sortType" value="other"> Other
              <p></p>
              <button type="submit">Sort</button>
            </form>
          </div>
        </div>-->
  </body>
  <script type="text/javascript">
  function toggle() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
      x.className += " w3-show";
    } else {
      x.className = x.className.replace(" w3-show", "");
    }
  }
  function changePage() {
      var pages = document.getElementById("pages");
      var selectedPage = pages.options[pages.selectedIndex].value;
      //console.log(selectedPage)
      //console.log(start)
      //console.log(end)
      var table = document.getElementById("table");
      var btn = table.getElementsByTagName("button");
      var divisibleCounter=0
      for (i = 0; i < btn.length; i++) {
          if(i % 50==0){
            divisibleCounter++
          }
          if(divisibleCounter==selectedPage){
            for (i2 = i; i2 < i+50; i2++) {
              if(i2<btn.length)
                btn[i2].style.display = "block";
              else
                break;
            }
            return true;
          }else{
            btn[i].style.display = "none";
          }
        }
      /*<select id="pages" name="page" onchange="changePage()">
          <option value="1" selected="selected">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
      </select>*/
  }
  createbtnStates()
  function createbtnStates() {
      var size=0
      var names=JSON.parse(localStorage.names);
      var codes=JSON.parse(localStorage.codes);
      document.getElementById("title").innerHTML="US Cities ("+names.length+" found)"
      var rank=1
      var pageCount=parseInt(Object.keys(codes).length / 50)+1 //max 50 per page
      //console.log(pageCount+"")
      for(var k=1; k<pageCount; k++){
        var option=document.createElement("option");
        option.value = k+1;
        option.innerHTML = option.value+"";
        document.getElementById("pages").appendChild(option);
      }
      if(pageCount>1)
        document.getElementById("pageCount").innerHTML="(1 of "+pageCount+" pages)";
      else
        document.getElementById("pageCount").innerHTML="(1 of "+pageCount+" page)";
      for(var k=0; k<codes.length; k++){//name,rating,flaglink,capitalCity,ratings
          var btn = document.createElement("BUTTON");
          btn.className="w3-button w3-orange";
          btn.style.spacingBorder="2%";
          btn.id=names[k];
          btn.onclick=function(){
            document.getElementById("input").value="";
            for(var k2=0; k2<names.length; k2++){
              if(names[k2]==this.id){
                  localStorage.name=JSON.stringify(names[k2]);
                  localStorage.code=JSON.stringify(codes[k2]);
                  location.href="housingProfile.html";
              }
            }
          }
          var h = document.createElement("H3");
          var t=null;
          t = document.createTextNode(names[k]);
          h.appendChild(t);
          btn.appendChild(h);
          document.getElementById("table").appendChild(btn);
          if(rank>50)
            document.getElementById(btn.id).style.display="none";
          rank++;
      }
    }
  function filter() {
    var input = document.getElementById("input");
    var fil = input.value.toUpperCase();
    var table = document.getElementById("table");
    var btn = table.getElementsByTagName("button");
    for (i = 0; i < btn.length; i++) {
        txtValue = btn[i].id;
        //console.log(txtValue)
        if (txtValue.toUpperCase().indexOf(fil) > -1) {
            btn[i].style.display = "";
        } else {
            btn[i].style.display = "none";
        }
    }
}
  </script>
</html>
